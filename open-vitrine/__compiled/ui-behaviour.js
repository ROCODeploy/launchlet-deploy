var LCHVitrineBehaviour=function(){"use strict";"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function i(){throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs")}function t(e,i){return e(i={exports:{}},i.exports),i.exports}var n,r=t((function(t,n){!function(t){const n={OLSKInternationalDefaultIdentifier:()=>"i18n",OLSKInternationalIsTranslationFileBasename:e=>"string"==typeof e&&!!e.split(".").pop().match(/ya?ml/i)&&e.split(".").shift()===n.OLSKInternationalDefaultIdentifier()&&!!n._OLSKInternationalLanguageID(e),OLSKInternationalLanguageID(e){if(!n.OLSKInternationalIsTranslationFileBasename(e))throw new Error("OLSKErrorInputNotValid");return n._OLSKInternationalLanguageID(e)},OLSKInternationalSimplifiedLanguageCode(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");return e.split("-").shift()},_OLSKInternationalLanguageID(e){var i=e.split(".");return i.pop(),i.shift(),i.pop()},OLSKInternationalLocalizedString(e,i){if("object"!=typeof i||null===i)throw new Error("OLSKErrorInputNotValid");var t=i[e];return t||(t="TRANSLATION_MISSING",console.log([t,e])),t},OLSKInternationalLocalizedStringCallback(e,i){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");if(!Array.isArray(i))throw new Error("OLSKErrorInputNotValid");const t=Object.keys(e).reverse().concat(...i.map((function(e){return[n.OLSKInternationalSimplifiedLanguageCode(e),e]})).reverse());return function(i,r){if(!Array.isArray(r))throw new Error("OLSKErrorInputNotValid");let a,o=t.concat(...r.map((function(e){return[n.OLSKInternationalSimplifiedLanguageCode(e),e]})).reverse(),[]);for(;!a&&o.length;)a=(e[o.pop()]||{})[i];return a||console.log([a="TRANSLATION_MISSING",i].join(" ")),a}},_OLSKInternationalPaths(e,t){if("string"!=typeof e||!e.trim())throw new Error("OLSKErrorInputNotValid");const r=i;return r().sync(`**/*${n.OLSKInternationalDefaultIdentifier()}*.y*(a)ml`,{cwd:e,realpath:!0}).filter((function(e){return!t||!e.match(t)})).filter((function(e){return n.OLSKInternationalIsTranslationFileBasename(r().basename(e))}))},_OLSKInternationalConstructedDictionary(e){if(!Array.isArray(e))throw new Error("OLSKErrorInputNotValid");const t=i;return e.reduce((function(e,i){const r=n.OLSKInternationalLanguageID(t().basename(i));return e[r]=Object.assign(e[r]||{},t().load(t().readFileSync(i,"utf8"))),e}),{})},OLSKInternationalDictionary(e){return this._OLSKInternationalConstructedDictionary(this._OLSKInternationalPaths(e))},_OLSKInternationalCompilationObject(e,t){const r=i;return this._OLSKInternationalPaths(e,/node_modules|__external/).filter((function(e){return!t||n.OLSKInternationalLanguageID(r().basename(e))===t})).reduce((function(e,i){return Object.assign(e,{[i]:r().load(r().readFileSync(i,"utf8"))})}),{})},_OLSKInternationalCompilationFilePath(e){if("string"!=typeof e||!e.trim())throw new Error("OLSKErrorInputNotValid");return i().join(e,"__compiled",n.OLSKInternationalDefaultIdentifier()+"-compilation.yml")},_SafeDump:e=>i().safeDump(e,{lineWidth:1/0}),OLSKInternationalWriteCompilationFile(e,t){const r=i,a=n._SafeDump(this._OLSKInternationalCompilationObject(e,t)),o=r().dirname(n._OLSKInternationalCompilationFilePath(e));r().existsSync(o)||r().mkdirSync(o),r().writeFileSync(n._OLSKInternationalCompilationFilePath(e),a)},OLSKInternationalSpreadCompilationFile(e,t){if("string"!=typeof e||!e.trim())throw new Error("OLSKErrorInputNotValid");const r=i,a=r().load(r().readFileSync(n._OLSKInternationalCompilationFilePath(e),"utf8"));Object.keys(a).map((function(e){return r().writeFileSync(e,n._SafeDump(a[e]))}))},OLSKInternationalAddControllerLanguageCode(t,n){if("string"!=typeof t||!t.trim())throw new Error("OLSKErrorInputNotValid");if("string"!=typeof n||!n.trim())throw new Error("OLSKErrorInputNotValid");const r=i;r().sync("controller.js",{cwd:t,matchBase:!0,realpath:!0}).forEach((function(i){if(i.match(/.*(\.git|DS_Store|node_modules|vendor|__\w+)\/.*/i))return;const t=r();if("function"!=typeof t.OLSKControllerRoutes)return;if(!(a=t.OLSKControllerRoutes(),Array.isArray(a)?a:Object.entries(a).reduce((function(e,i){return e.concat(Object.assign(i[1],{OLSKRouteSignature:i[0]}))}),[])).filter((function(e){return e.OLSKRouteLanguageCodes})).filter((function(e){return!e.OLSKRouteLanguageCodes.includes(n)})).length)return;var a;const o=r().readFileSync(i,"utf8").match(/OLSKRouteLanguageCodes: \[.*\]/g);if(!o)throw new Error(`invalid OLSKRouteLanguageCodes syntax in ${e}`);o.map((function(e){const t=e.match(/\[.*\]/);return r().writeFileSync(i,r().readFileSync(i,"utf8").replace(/OLSKRouteLanguageCodes: \[.*\]/,`OLSKRouteLanguageCodes: ['${JSON.parse(t[0].replace(/\'/g,'"')).concat(n).join("', '")}']`))}))})),process.argv[2].endsWith("olsk-i18n-add")&&process.exit()}};Object.assign(t,n),Object.defineProperty(t,"__esModule",{value:!0})}(n),n.OLSKLocalized=function(e){return n.OLSKInternationalLocalizedString(e,JSON.parse('{"en":{"LCHVitrineDemoRecipeNames":{"LCHVitrinePageColoursRandomize":"Randomize page colours","LCHVitrinePageColoursRestore":"Restore page colours","LCHVitrineCopyPageInfo":"Copy page info","LCHVitrineSendEmail":"Send email","LCHVitrinePageLinksHighlightAdd":"Highlight page links","LCHVitrinePageLinksHighlightRemove":"Remove page links highlight","LCHVitrineMinimalistDateString":"Minimalist Date String"},"LCHVitrineCopyPageInfoAlertText":"Copied to clipboard","LCHVitrineTitle":"Launchlet","LCHVitrineDescription":"Make the web yours.","LCHVitrineVideo1HeadingText":"Search recipes.","LCHVitrineVideo2HeadingText":"Tutorial.","LCHVitrineVideo3HeadingText":"Sync with the browser extension.","LCHVitrineVideo4HeadingText":"Pipe mode.","LCHVitrineTutorialsButtonText":"Watch more tutorials","OLSKLandingBlurbText":"Customize any website with JavaScript or CSS.","LCHVitrineDemoButtonCommitText":"Demo Commit mode","LCHVitrineDemoButtonPreviewText":"Demo Preview mode","LCHVitrineDemoButtonPipeText":"Demo Pipe mode","LCHVitrineBrueghelText":"A photo of a postcard containing Pieter Bruegel\'s painting: The Fall of the Rebel Angels","LCHFeatureListArray":[["Add scripts or styles.","Create Recipes with JavaScript or CSS."],["General or specific.","Trigger some Recipes based on the URL."],["Power up your browser.","The extension can run Recipes automatically on page load."],["Save it to go.","Export all Recipes as a bookmarklet."]]},"es":{"LCHVitrineDemoRecipeNames":{"LCHVitrinePageColoursRandomize":"Aleatorizar los colores de la página","LCHVitrinePageColoursRestore":"Restablecer los colores de la página","LCHVitrineCopyPageInfo":"Copiar información de la página","LCHVitrineSendEmail":"Enviar correo","LCHVitrinePageLinksHighlightAdd":"Marcar los enlaces de la página","LCHVitrinePageLinksHighlightRemove":"Quitar las marcas enlace de la página","LCHVitrineMinimalistDateString":"Frase del dato minimalista"},"LCHVitrineCopyPageInfoAlertText":"Copiado al portapapeles","LCHVitrineTitle":"Launchlet","LCHVitrineDescription":"Hazlo tuyo el web.","LCHVitrineVideo1HeadingText":"Buscar recetas.","LCHVitrineVideo2HeadingText":"Tutorial.","LCHVitrineVideo3HeadingText":"Sincronizar con el extensión del navigador.","LCHVitrineVideo4HeadingText":"Modo de Pipe.","LCHVitrineTutorialsButtonText":"Ver más tutoriales.","OLSKLandingBlurbText":"Personalizar qualquier sitio web con JavaScript o CSS.","LCHVitrineDemoButtonCommitText":"Demo modo de Commit","LCHVitrineDemoButtonPreviewText":"Demo modo de Preview","LCHVitrineDemoButtonPipeText":"Demo modo de Pipe","LCHVitrineBrueghelText":"Una foto de una tarjeta postal que contiene una pintura de Pieter Bruegel : La caída de los ángeles rebeldes","LCHFeatureListArray":[["Adicionar scripts o estilos.","Crear Recetas con JavaScript o CSS."],["General o específica.","Activar algunas Recetas basadas en la URL."],["Augmenta tu navegador.","La extensión puede ejecutar Recetas automáticamente al cargar de la página."],["Tomarla para llevar.","Exportar todas las Recetas como un bookmarklet."]]},"fr":{"LCHVitrineDemoRecipeNames":{"LCHVitrinePageColoursRandomize":"Randomiser les couleurs de la page","LCHVitrinePageColoursRestore":"Rétablir les couleurs de la page","LCHVitrineCopyPageInfo":"Copier les informations de la page","LCHVitrineSendEmail":"Envoyer email","LCHVitrinePageLinksHighlightAdd":"Surligner des liens de la page","LCHVitrinePageLinksHighlightRemove":"Enlever le surlignage des liens de la page","LCHVitrineMinimalistDateString":"Chaîne de date minimaliste"},"LCHVitrineCopyPageInfoAlertText":"Copié dans le presse-papier","LCHVitrineTitle":"Launchlet","LCHVitrineDescription":"Faites-en le vôtre le web.","LCHVitrineVideo1HeadingText":"Chercher des recettes.","LCHVitrineVideo2HeadingText":"Tutoriel.","LCHVitrineVideo3HeadingText":"Synchroniser avec l\'extension du navigateur.","LCHVitrineVideo4HeadingText":"Mode Pipe.","LCHVitrineTutorialsButtonText":"Regarder plus des tutorials","OLSKLandingBlurbText":"Personnaliser de n\'importe quel site web avec JavaScript ou CSS.","LCHVitrineDemoButtonCommitText":"Démo mode Commit","LCHVitrineDemoButtonPreviewText":"Démo mode Preview","LCHVitrineDemoButtonPipeText":"Démo mode Pipe","LCHVitrineBrueghelText":"Une photo d\'une carte postale qui contient une peinture de Pieter Bruegel : La Chute des anges rebelles","LCHFeatureListArray":[["Ajouter du code ou du style.","Créer des Recettes avec JavaScript ou CSS."],["Général ou spécifique.","Activer certaines Recettes basé sur l\'URL."],["Augmentez votre navigateur.","L\'extension peut exécuter des Recettes automatiquement lors du chargement de la page."],["Avoir ça pour emporter.","Exporter toutes les Recettes sous forme de bookmarklet."]]},"pt":{"LCHVitrineDemoRecipeNames":{"LCHVitrinePageColoursRandomize":"Randomizar as cores das páginas","LCHVitrinePageColoursRestore":"Restaurar as cores das páginas","LCHVitrineCopyPageInfo":"Copiar informação da página","LCHVitrineSendEmail":"Enviar e-mail","LCHVitrinePageLinksHighlightAdd":"Destacar links da página","LCHVitrinePageLinksHighlightRemove":"Remover a destaca doos links da página","LCHVitrineMinimalistDateString":"Sequência minimalista da data"},"LCHVitrineCopyPageInfoAlertText":"Copiado para área de transferência","LCHVitrineTitle":"Launchlet","LCHVitrineDescription":"Faça sua o web.","LCHVitrineVideo1HeadingText":"Pesquisar receitas.","LCHVitrineVideo2HeadingText":"Tutorial.","LCHVitrineVideo3HeadingText":"Sincronizar com a extensão do navegador.","LCHVitrineVideo4HeadingText":"Modo Encanado.","LCHVitrineTutorialsButtonText":"Assistir mais tutoriais","OLSKLandingBlurbText":"Personalizar qualquer website com JavaScript ou CSS.","LCHVitrineDemoButtonCommitText":"Modo Commit de demonstração.","LCHVitrineDemoButtonPreviewText":"Modo de Preview de demonstração","LCHVitrineDemoButtonPipeText":"Modo Encanado de demonstração","LCHVitrineBrueghelText":"Uma foto de um cartão postal contendo a pintura de Pieter Bruegel: A Queda dos Condenados","LCHFeatureListArray":[["Adicionar scripts ou estilos.","Criar receitas com JavaScript ou CSS."],["Geral ou específica.","Acione algumas receitas com base na URL."],["Acione seu navegador.","A extensão pode executar Recipes automaticamente no carregamento da página."],["Tomar para levar.","Exportar todas as Receitas num bookmarklet."]]}}')[window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")])}}));(n=r)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")&&n.default;var a=r.OLSKLocalized,o=t((function(e,t){const n=i,r={OLSKSpecUIArguments(e){if(!Array.isArray(e))throw new Error("OLSKErrorInputNotValid");return e.map((function(e){return e.match(/^match=/)?e.replace(/^match=/,"-os-match="):e.match(/^skip=/)?e.replace(/^skip=/,"-os-skip="):e}))},OLSKSpecUITestPaths(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if(!n().OLSKDiskIsRealFolderPath(e))throw new Error("OLSKErrorInputNotValid");return n().sync("**/ui-test-*.js",{cwd:e,realpath:!0}).filter((function(e){return!e.match(n().OLSKDiskStandardIgnorePattern())}))},OLSKSpecUISourcePaths(e){if("string"!=typeof e)throw new Error("OLSKErrorInputNotValid");if(!n().OLSKDiskIsRealFolderPath(e))throw new Error("OLSKErrorInputNotValid");return n().sync("**/+(ui-behaviour.js|*.ejs|*.md|*.html)",{cwd:e,realpath:!0}).filter((function(e){return!!e.match("__compiled")||!e.match(n().OLSKDiskStandardIgnorePattern())}))},OLSKSpecMochaPaths(e){if("object"!=typeof e||null===e)throw new Error("OLSKErrorInputNotValid");if("string"!=typeof e.ParamPackageDirectory)throw new Error("OLSKErrorInputNotValid");if("string"!=typeof e.ParamWorkingDirectory)throw new Error("OLSKErrorInputNotValid");return[n().join(e.ParamPackageDirectory,"./node_modules/.bin/mocha"),n().join(e.ParamPackageDirectory,"../.bin/mocha"),n().join(e.ParamWorkingDirectory,"./node_modules/.bin/mocha")]},_OLSKSpecMochaReplaceES6Import(e){const i=[];return e=e.replace(/^import \* as (\w+) from ['"]([^'"]+)['"];?/gm,'var $1 = require("$2");').replace(/^import (\w+) from ['"]([^'"]+)['"];?/gm,'var _$1 = require("$2"); const $1 = _$1.default || _$1').replace(/^import {([^}]+)} from ['"](.+)['"];?/gm,'var {$1} = require("$2");').replace(/^export default /gm,"exports.default = ").replace(/^export (const|let|var|class|function) (\w+)/gm,((e,t,n)=>(i.push(n),`${t} ${n}`))).replace(/^export \{([^}]+)\}(?: from ['"]([^'"]+)['"];?)?/gm,((e,t,n)=>(t.split(",").filter(Boolean).forEach((e=>{i.push(e)})),n?`const { ${t} } = require("${n}");`:""))).replace(/^export function (\w+)/gm,"exports.$1 = function $1"),i.forEach((i=>{e+=`\nexports.${i} = ${i};`})),e}};Object.assign(t,r),t.OLSK_SPEC_UI=function(){return"undefined"!=typeof navigator&&("undefined"!=typeof window&&"loc.tests"===window.location.hostname||"Zombie"===navigator.appName)}})).OLSK_SPEC_UI;const l={LCHVitrinePageColoursRandomizeCallback(){let e=document.querySelector("style.LCHVitrinePageColoursRandomize");e||document.body.appendChild(e=document.createElement("style")).classList.add("LCHVitrinePageColoursRandomize");let i=Math.random();const t=e.innerHTML.match(/LCHCommonBackground: hsl\(0\, 0\%\, (.*)\%/);if(t){const e=parseFloat(t.pop())/100;for(;Math.abs(i-e)<.1||i>=.4&&i<=.6;)i=Math.random()}e.innerHTML=`\n\t\tbody {\n\t\t--OLSKCommonBackground: hsl(0, 0%, ${100*i}%);\n\t\t--OLSKCommonForeground: hsl(0, 0%, ${100-100*i}%);\n\t\t}\n\t`},LCHVitrinePageColoursRandomizeRecipe:()=>({LCHRecipeCallback:l.LCHVitrinePageColoursRandomizeCallback,LCHRecipeSignature:"LCHVitrinePageColoursRandomize"}),LCHVitrinePageColoursRestoreIsHidden:()=>!document.querySelector("style.LCHVitrinePageColoursRandomize"),LCHVitrinePageColoursRestoreCallback(){document.querySelector("style.LCHVitrinePageColoursRandomize").remove()},LCHVitrinePageColoursRestoreRecipe:()=>({LCHRecipeCallback:l.LCHVitrinePageColoursRestoreCallback,LCHRecipeSignature:"LCHVitrinePageColoursRestore",LCHRecipeIsExcluded:l.LCHVitrinePageColoursRestoreIsHidden}),LCHVitrineCopyPageInfoCallback(){return window.alert(a("LCHVitrineCopyPageInfoAlertText")),this.api.LCHCopyToClipboard(`${document.title} ${location.href}`)},LCHVitrineCopyPageInfoRecipe:()=>({LCHRecipeCallback:l.LCHVitrineCopyPageInfoCallback,LCHRecipeSignature:"LCHVitrineCopyPageInfo"}),LCHVitrineSendEmailCallback(){const e="mailto:";if(o())return window.alert(e);window.location.href=e},LCHVitrineSendEmailRecipe:()=>({LCHRecipeCallback:l.LCHVitrineSendEmailCallback,LCHRecipeSignature:"LCHVitrineSendEmail"}),LCHVitrinePageLinksHighlightAddIsHidden:()=>document.querySelector("style.LCHVitrinePageLinksHighlightAdd"),LCHVitrinePageLinksHighlightAddCallback(){let e=document.body.appendChild(document.createElement("style"));e.classList.add("LCHVitrinePageLinksHighlightAdd"),e.innerHTML="a { background: yellow !important; }"},LCHVitrinePageLinksHighlightAddRecipe:()=>({LCHRecipeCallback:l.LCHVitrinePageLinksHighlightAddCallback,LCHRecipeSignature:"LCHVitrinePageLinksHighlightAdd",LCHRecipeIsExcluded:l.LCHVitrinePageLinksHighlightAddIsHidden}),LCHVitrinePageLinksHighlightRemoveIsHidden:()=>!document.querySelector("style.LCHVitrinePageLinksHighlightAdd"),LCHVitrinePageLinksHighlightRemoveCallback(){document.querySelector("style.LCHVitrinePageLinksHighlightAdd").remove()},LCHVitrinePageLinksHighlightRemoveRecipe:()=>({LCHRecipeCallback:l.LCHVitrinePageLinksHighlightRemoveCallback,LCHRecipeSignature:"LCHVitrinePageLinksHighlightRemove",LCHRecipeIsExcluded:l.LCHVitrinePageLinksHighlightRemoveIsHidden}),LCHVitrineMinimalistDateStringCallback:()=>(new Date).toJSON().slice(0,10).replace(/-/g,"."),LCHVitrineMinimalistDateStringRecipe:()=>({LCHRecipeCallback:l.LCHVitrineMinimalistDateStringCallback,LCHRecipeSignature:"LCHVitrineMinimalistDateString",LCHRecipeOutputType:"String"})},s=Object.entries(l).filter((function(e){return e.shift().includes("Recipe")})).map((function(e){const i=e.pop()();return Object.assign(i,{LCHRecipeName:a("LCHVitrineDemoRecipeNames")[i.LCHRecipeSignature]})})),c={InterfaceDemoButtonCommitDidClick(){c.ControlDemoCommit()},InterfaceDemoButtonPreviewDidClick(){c.ControlDemoPreview()},InterfaceDemoButtonPipeDidClick(){c.ControlDemoPipe()},ControlDemoCommit(){Launchlet.LCHSingletonCreate({LCHOptionRecipes:s,LCHOptionMode:Launchlet.LCHModeCommit,LCHOptionLanguage:window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")})},ControlDemoPreview(){Launchlet.LCHSingletonCreate({LCHOptionRecipes:[].concat.apply([],document.querySelectorAll("h1,h2")).map((function(e){return{LCHRecipeName:e.textContent,LCHRecipeCallback(){e.scrollIntoView()},_LCHRecipeIsSelected:e.getBoundingClientRect().top>=0}})),LCHOptionMode:Launchlet.LCHModePreview,LCHOptionLanguage:window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")})},ControlDemoPipe(){Launchlet.LCHSingletonCreate({LCHOptionRecipes:s,LCHOptionMode:Launchlet.LCHModePipe,LCHOptionLanguage:window.OLSKPublicConstants("OLSKSharedPageCurrentLanguage")})}};return window.LCHPageRecipes=s.slice(),function(){const e=window.LCHPageRecipes.map((function(e){return{LCHRecipeProxyName:e.LCHRecipeName,LCHRecipeProxySignature:e.LCHRecipeSignature}})),i=window.LCHPageRecipes.reduce((function(e,i){return e[i.LCHRecipeSignature]=i,e}),{});window.addEventListener("message",(function(t){if(t.source===window)return"LCHPageRecipes"===t.data?t.source.postMessage(e,t.origin):i[t.data]?i[t.data].LCHRecipeCallback():void 0}),!1)}(),c}();
//# sourceMappingURL=ui-behaviour.js.map
